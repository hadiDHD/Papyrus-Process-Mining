<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.papyrus.views.modelexplorer.modelexplorer.popup?after=org.eclipse.papyrus.views.modelexplorer.popupmenu.creatediagram">
         <menu
               icon="icons/new_document.png"
               id="org.eclipse.papyrus.infra.siriusdiag.ui.popupmenu.createsiriusdiagram"
               label="New Sirius Diagram"
               tooltip="The Sirius Diagram Menu">
            <dynamic
                  class="org.eclipse.papyrus.infra.siriusdiag.ui.internal.menus.SiriusDiagramDynamicContribution"
                  id="org.eclipse.papyrus.infra.siriusdiag.ui.internal.menus.DSemanticDiagramDynamicContribution">
            </dynamic>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.papyrus.infra.viewpoints.policy.viewType">
      <helper
            class="org.eclipse.papyrus.infra.siriusdiag.ui.internal.viewpoint.CreateSiriusDiagramViewTypeCommandHelper"
            priority="0">
      </helper>
   </extension>
   <extension
         point="org.eclipse.papyrus.infra.ui.papyrusDiagram">
      <editorDiagram
            actionBarContributorId="org.eclipse.papyrus.infra.siriusdiag.ui.actionBarContributor"
            factoryClass="org.eclipse.papyrus.infra.siriusdiag.ui.internal.editor.SiriusDiagramEditorFactory"
            icon="icons/new_document.png"
            order="0">
      </editorDiagram>
      <actionBarContributor
            id="org.eclipse.papyrus.infra.siriusdiag.ui.actionBarContributor"
            implementingClass="org.eclipse.papyrus.infra.siriusdiag.ui.internal.editor.CustomSiriusDiagramActionBarContributor">
      </actionBarContributor>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.eclipse.sirius.diagram.DSemanticDiagram"
            class="org.eclipse.papyrus.infra.siriusdiag.ui.internal.adapter.SiriusDiagramViewAdapterFactory">
         <adapter
               type="org.eclipse.papyrus.infra.core.sasheditor.di.contentprovider.IOpenable">
         </adapter>
      </factory>
   </extension>
   <extension
         point="org.eclipse.papyrus.infra.core.model">
      <model
            classname="org.eclipse.papyrus.infra.siriusdiag.ui.modelresource.SiriusDiagramModel"
            description="Model for Sirius Diagram View editors"
            fileExtension="aird">
      </model>
   </extension>
   <extension
         point="org.eclipse.papyrus.infra.services.labelprovider.labelProvider">
      <labelProvider
            priority="10"
            provider="org.eclipse.papyrus.infra.siriusdiag.ui.internal.provider.SiriusDiagramLabelProvider">
      </labelProvider>
   </extension>
    <extension
         point="org.eclipse.papyrus.infra.core.service">
      <serviceFactory
            classname="org.eclipse.papyrus.infra.siriusdiag.ui.internal.sessions.SessionServiceFactory"
            id="org.eclipse.papyrus.infra.siriusdiag.sirius.ISiriusSessionService"
            priority="1"
            startKind="startup">
      </serviceFactory>
   </extension>
    <extension
         point="org.eclipse.papyrus.infra.core.service">
      <serviceFactory
            classname="org.eclipse.papyrus.infra.siriusdiag.ui.internal.adapter.SemanticServiceFactory"
            id="org.eclipse.papyrus.infra.emf.utils.ISemanticService"
            priority="1"
            startKind="startup">
      </serviceFactory>
   </extension>
   <extension
         point="org.eclipse.sirius.sessionFactory">
      <sessionFactory
            class="org.eclipse.papyrus.infra.siriusdiag.ui.internal.sessions.PapyrusSessionFactory"
            override="org.eclipse.sirius.business.internal.session.SessionFactoryImpl">
      </sessionFactory>
   </extension>
</plugin>
